From b7eabac7fd5af989b11ea68095ad73471cdbf650 Mon Sep 17 00:00:00 2001
From: "Uwe L. Korn" <uwe.korn@quantco.com>
Date: Thu, 14 Dec 2023 15:04:51 +0100
Subject: [PATCH 1/2] Support third-party build of boringssl

---
 third_party/boringssl.BUILD | 21 +++++++++++++++++++++
 workspace2.bzl              |  2 +-
 2 files changed, 22 insertions(+), 1 deletion(-)
 create mode 100644 third_party/boringssl.BUILD

diff --git a/third_party/boringssl.BUILD b/third_party/boringssl.BUILD
new file mode 100644
index 0000000000..bc4c533403
--- /dev/null
+++ b/third_party/boringssl.BUILD
@@ -0,0 +1,21 @@
+licenses(["notice"])
+
+filegroup(
+    name = "LICENSE",
+    visibility = ["//visibility:public"],
+)
+
+cc_library(
+    name = "crypto",
+    linkopts = ["-lcrypto"],
+    visibility = ["//visibility:public"],
+)
+
+cc_library(
+    name = "ssl",
+    linkopts = ["-lssl"],
+    visibility = ["//visibility:public"],
+    deps = [
+        ":crypto",
+    ],
+)
diff --git a/workspace2.bzl b/workspace2.bzl
index b61970b831..6159edcf66 100644
--- a/workspace2.bzl
+++ b/workspace2.bzl
@@ -65,7 +65,7 @@ def _tf_repositories():
         name = "boringssl",
         sha256 = "9dc53f851107eaf87b391136d13b815df97ec8f76dadb487b58b2fc45e624d2c",
         strip_prefix = "boringssl-c00d7ca810e93780bd0c8ee4eea28f4f2ea4bcdc",
-        system_build_file = "//third_party/systemlibs:boringssl.BUILD",
+        system_build_file = "//third_party:boringssl.BUILD",
         urls = tf_mirror_urls("https://github.com/google/boringssl/archive/c00d7ca810e93780bd0c8ee4eea28f4f2ea4bcdc.tar.gz"),
     )
 
